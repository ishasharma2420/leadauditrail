<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Intelligence Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #f5f6f8;
    --white: #ffffff;
    --border: #e8eaef;
    --border-soft: #f0f1f4;
    --text: #0f1117;
    --text-muted: #7b8194;
    --text-dim: #9da3b4;
    --flash: #0066ff;
    --flash-light: #eff4ff;
    --flash-mid: #dbeafe;
    --flash-border: #bfdbfe;
    --sherlock: #7c3aed;
    --sherlock-light: #f5f0ff;
    --sherlock-mid: #ede9fe;
    --sherlock-border: #ddd6fe;
    --hawke: #059669;
    --hawke-light: #ecfdf5;
    --hawke-mid: #d1fae5;
    --hawke-border: #a7f3d0;
    --invorto: #ea580c;
    --invorto-light: #fff7ed;
    --invorto-mid: #fed7aa;
    --invorto-border: #fdba74;
    --sev-high-bg: #fef2f2; --sev-high: #dc2626; --sev-high-border: #fecaca;
    --sev-med-bg: #fffbeb;  --sev-med: #d97706;  --sev-med-border: #fde68a;
    --sev-low-bg: #f0fdf4;  --sev-low: #16a34a;  --sev-low-border: #bbf7d0;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:var(--bg); color:var(--text); font-family:'Inter',sans-serif; font-size:13px; line-height:1.5; min-height:100vh; }
  .wrapper { padding:16px; max-width:100%; }

  .header { display:flex; align-items:center; justify-content:space-between; margin-bottom:14px; }
  .header-left { display:flex; align-items:center; gap:8px; }
  .pulse-ring { position:relative; width:10px; height:10px; flex-shrink:0; }
  .pulse-ring::before { content:''; position:absolute; inset:0; background:var(--flash); border-radius:50%; animation:pulse 2s ease-in-out infinite; }
  .pulse-ring::after { content:''; position:absolute; inset:-3px; border:1.5px solid var(--flash); border-radius:50%; opacity:0; animation:pulse-ring 2s ease-in-out infinite; }
  @keyframes pulse { 0%,100%{transform:scale(1);opacity:1;} 50%{transform:scale(0.85);opacity:0.7;} }
  @keyframes pulse-ring { 0%{transform:scale(0.7);opacity:0.8;} 100%{transform:scale(1.4);opacity:0;} }
  .header-title { font-family:'Bricolage Grotesque',sans-serif; font-size:13px; font-weight:700; color:var(--text); letter-spacing:-0.01em; }
  .header-sub { font-size:11px; color:var(--text-muted); }

  .grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
  @media(max-width:580px){.grid{grid-template-columns:1fr;}}

  .card { background:var(--white); border-radius:14px; border:1px solid var(--border); overflow:hidden; transition:box-shadow 0.2s ease,transform 0.2s ease; animation:fadeUp 0.4s ease both; }
  .card:hover { transform:translateY(-1px); box-shadow:0 4px 20px rgba(0,0,0,0.07); }
  .card:nth-child(1){animation-delay:0.04s;} .card:nth-child(2){animation-delay:0.08s;} .card:nth-child(3){animation-delay:0.12s;} .card:nth-child(4){animation-delay:0.16s;}
  @keyframes fadeUp { from{opacity:0;transform:translateY(8px);} to{opacity:1;transform:translateY(0);} }

  .card-bar { height:3px; width:100%; }
  .bar-flash    { background:linear-gradient(90deg,var(--flash),#60a5fa); }
  .bar-sherlock { background:linear-gradient(90deg,var(--sherlock),#a78bfa); }
  .bar-hawke    { background:linear-gradient(90deg,var(--hawke),#34d399); }
  .bar-invorto  { background:linear-gradient(90deg,var(--invorto),#fb923c); }

  .card-head { display:flex; align-items:center; justify-content:space-between; padding:12px 14px 10px; border-bottom:1px solid var(--border-soft); }
  .agent-id { display:flex; align-items:center; gap:9px; }
  .agent-icon { width:30px; height:30px; border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:14px; flex-shrink:0; }
  .icon-flash{background:var(--flash-light);} .icon-sherlock{background:var(--sherlock-light);} .icon-hawke{background:var(--hawke-light);} .icon-invorto{background:var(--invorto-light);}
  .agent-name { font-family:'Bricolage Grotesque',sans-serif; font-size:13px; font-weight:700; color:var(--text); line-height:1.2; }
  .agent-role { font-size:10.5px; color:var(--text-muted); margin-top:1px; }

  .pill { font-size:10px; font-weight:600; letter-spacing:0.05em; text-transform:uppercase; padding:3px 8px; border-radius:20px; }
  .pill-active{background:#dcfce7;color:#15803d;} .pill-review{background:var(--sev-med-bg);color:var(--sev-med);} .pill-pending{background:#fef9c3;color:#a16207;} .pill-none{background:var(--bg);color:var(--text-muted);}

  .card-body { padding:12px 14px 14px; }

  .score-hero { display:flex; align-items:center; gap:10px; background:var(--flash-light); border:1px solid var(--flash-border); border-radius:10px; padding:10px 12px; margin-bottom:11px; }
  .score-ring { position:relative; width:46px; height:46px; flex-shrink:0; }
  .score-ring svg { width:46px; height:46px; transform:rotate(-90deg); }
  .ring-bg { fill:none; stroke:var(--flash-border); stroke-width:3.5; }
  .ring-fill { fill:none; stroke:var(--flash); stroke-width:3.5; stroke-linecap:round; transition:stroke-dashoffset 1s cubic-bezier(.4,0,.2,1); }
  .score-num { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-family:'Bricolage Grotesque',sans-serif; font-size:13px; font-weight:800; color:var(--flash); }
  .score-label { font-size:10px; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.07em; }
  .score-bucket { font-family:'Bricolage Grotesque',sans-serif; font-size:16px; font-weight:800; line-height:1.1; margin-top:2px; }
  .bkt-high{color:var(--flash);} .bkt-medium{color:var(--sev-med);} .bkt-low{color:var(--text-muted);}

  .fields { display:flex; flex-direction:column; gap:9px; }
  .field { display:flex; flex-direction:column; gap:2px; }
  .f-label { font-size:10px; font-weight:600; letter-spacing:0.07em; text-transform:uppercase; color:var(--text-muted); }
  .f-val { font-size:12px; color:var(--text); line-height:1.4; }
  .f-val.c-flash{color:var(--flash);font-weight:500;} .f-val.c-sherlock{color:var(--sherlock);font-weight:500;} .f-val.c-hawke{color:var(--hawke);font-weight:500;} .f-val.c-invorto{color:var(--invorto);font-weight:500;}

  .conf-wrap { display:flex; align-items:center; gap:7px; margin-top:3px; }
  .conf-track { flex:1; height:5px; background:var(--border); border-radius:3px; overflow:hidden; }
  .conf-fill { height:100%; border-radius:3px; transition:width 1s cubic-bezier(.4,0,.2,1); }
  .cf-hawke { background:linear-gradient(90deg,var(--hawke-mid),var(--hawke)); }
  .conf-num { font-family:'Bricolage Grotesque',sans-serif; font-size:12px; font-weight:700; min-width:26px; text-align:right; }
  .cn-hawke { color:var(--hawke); }

  .mini-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-bottom:10px; }

  .badge { display:inline-flex; align-items:center; gap:4px; padding:2px 8px; border-radius:4px; font-size:10px; font-weight:700; letter-spacing:0.06em; text-transform:uppercase; }
  .badge::before { content:''; width:4px; height:4px; border-radius:50%; background:currentColor; }
  .badge-high{background:var(--sev-high-bg);color:var(--sev-high);border:1px solid var(--sev-high-border);}
  .badge-medium{background:var(--sev-med-bg);color:var(--sev-med);border:1px solid var(--sev-med-border);}
  .badge-low{background:var(--sev-low-bg);color:var(--sev-low);border:1px solid var(--sev-low-border);}

  .anomaly-chip { display:inline-block; background:var(--hawke-light); border:1px solid var(--hawke-border); border-radius:6px; padding:3px 9px; font-family:'Bricolage Grotesque',sans-serif; font-size:11px; font-weight:700; color:var(--hawke); max-width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

  .insight-block { margin-top:10px; padding:9px 11px; border-radius:8px; font-size:11.5px; line-height:1.6; color:var(--text-muted); font-style:italic; }
  .ib-flash    { background:var(--flash-light);    border:1px solid var(--flash-border);    border-left:2.5px solid var(--flash); }
  .ib-sherlock { background:var(--sherlock-light); border:1px solid var(--sherlock-border); border-left:2.5px solid var(--sherlock); }
  .ib-hawke    { background:var(--hawke-light);    border:1px solid var(--hawke-border);    border-left:2.5px solid var(--hawke); }

  .hdivider { height:1px; background:var(--border-soft); margin:8px 0; }

  .footer { margin-top:14px; text-align:center; font-size:10px; color:var(--text-dim); letter-spacing:0.07em; text-transform:uppercase; }
  .footer strong { background:linear-gradient(90deg,var(--flash),var(--sherlock)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
</style>
</head>
<body>
<div class="wrapper">

  <div class="header">
    <div class="header-left">
      <div class="pulse-ring"></div>
      <div class="header-title">AI Lab Intelligence</div>
    </div>
    <div class="header-sub" id="lastUpdated">Loading‚Ä¶</div>
  </div>

  <div class="grid">

    <!-- AGENT FLASH -->
    <div class="card">
      <div class="card-bar bar-flash"></div>
      <div class="card-head">
        <div class="agent-id">
          <div class="agent-icon icon-flash">‚ö°</div>
          <div><div class="agent-name">Agent Flash</div><div class="agent-role">60 Seconds to Schedule</div></div>
        </div>
        <div class="pill pill-active">Active</div>
      </div>
      <div class="card-body">
        <div class="score-hero">
          <div class="score-ring">
            <svg viewBox="0 0 46 46">
              <circle class="ring-bg" cx="23" cy="23" r="19"/>
              <circle class="ring-fill" cx="23" cy="23" r="19" id="flash-ring" stroke-dasharray="119.38" stroke-dashoffset="119.38"/>
            </svg>
            <div class="score-num" id="flash-score">‚Äî</div>
          </div>
          <div>
            <div class="score-label">Readiness Score</div>
            <div class="score-bucket bkt-high" id="flash-bucket">‚Äî</div>
          </div>
        </div>
        <div class="fields">
          <div class="field"><div class="f-label">Detected Intent</div><div class="f-val c-flash" id="flash-intent">‚Äî</div></div>
          <div class="hdivider"></div>
          <div class="field"><div class="f-label">AI Reasoning</div></div>
        </div>
        <div class="insight-block ib-flash" id="flash-reasoning">No reasoning available.</div>
      </div>
    </div>

    <!-- AGENT SHERLOCK -->
    <div class="card">
      <div class="card-bar bar-sherlock"></div>
      <div class="card-head">
        <div class="agent-id">
          <div class="agent-icon icon-sherlock">üîç</div>
          <div><div class="agent-name">Agent Sherlock</div><div class="agent-role">Application QA Review</div></div>
        </div>
        <div class="pill pill-review" id="sherlock-pill">Review</div>
      </div>
      <div class="card-body">
        <div class="mini-grid">
          <div class="field"><div class="f-label">QA Status</div><div class="f-val c-sherlock" id="sherlock-status">‚Äî</div></div>
          <div class="field"><div class="f-label">Risk Level</div><span class="badge badge-medium" id="sherlock-risk">‚Äî</span></div>
        </div>
        <div class="fields">
          <div class="field"><div class="f-label">QA Summary</div><div class="f-val" id="sherlock-summary">‚Äî</div></div>
          <div class="field"><div class="f-label">Key Findings</div><div class="f-val" id="sherlock-findings">‚Äî</div></div>
          <div class="field"><div class="f-label">Advisory Notes</div><div class="f-val" id="sherlock-advisory">‚Äî</div></div>
        </div>
        <div class="insight-block ib-sherlock" id="sherlock-concerns">No concerns flagged.</div>
      </div>
    </div>

    <!-- AGENT HAWKE -->
    <div class="card">
      <div class="card-bar bar-hawke"></div>
      <div class="card-head">
        <div class="agent-id">
          <div class="agent-icon icon-hawke">ü¶Ö</div>
          <div><div class="agent-name">Agent Hawke</div><div class="agent-role">Anomaly Detection</div></div>
        </div>
        <div class="pill pill-active" id="hawke-pill">Active</div>
      </div>
      <div class="card-body">
        <div class="mini-grid">
          <div class="field"><div class="f-label">Anomaly Type</div><span class="anomaly-chip" id="hawke-type">‚Äî</span></div>
          <div class="field"><div class="f-label">Severity</div><span class="badge badge-high" id="hawke-sev">‚Äî</span></div>
        </div>
        <div class="fields">
          <div class="field">
            <div class="f-label">Confidence</div>
            <div class="conf-wrap">
              <div class="conf-track"><div class="conf-fill cf-hawke" id="hawke-conf-bar" style="width:0%"></div></div>
              <div class="conf-num cn-hawke" id="hawke-conf">‚Äî</div>
            </div>
          </div>
          <div class="field"><div class="f-label">Last Intelligence Run</div><div class="f-val c-hawke" id="hawke-lastrun">‚Äî</div></div>
        </div>
        <div class="insight-block ib-hawke" id="hawke-explanation">No anomaly explanation available.</div>
      </div>
    </div>

    <!-- INVORTO -->
    <div class="card">
      <div class="card-bar bar-invorto"></div>
      <div class="card-head">
        <div class="agent-id">
          <div class="agent-icon icon-invorto">üéôÔ∏è</div>
          <div><div class="agent-name">Invorto Voice</div><div class="agent-role">Call Qualification</div></div>
        </div>
        <div class="pill pill-active">Active</div>
      </div>
      <div class="card-body">
        <div class="fields">
          <div class="field"><div class="f-label">Primary Hesitation</div><div class="f-val" id="invorto-hesitation">‚Äî</div></div>
          <div class="field"><div class="f-label">Motivation Trigger</div><div class="f-val c-invorto" id="invorto-motivation">‚Äî</div></div>
          <div class="hdivider"></div>
          <div class="field"><div class="f-label">Decision Owner</div><div class="f-val" id="invorto-decowner">‚Äî</div></div>
          <div class="field"><div class="f-label">Enrollment Timeline</div><div class="f-val" id="invorto-timeline">‚Äî</div></div>
        </div>
      </div>
    </div>

  </div>
  <div class="footer">Powered by <strong>LeadSquared AI Lab</strong></div>
</div>

<script>
  function p(n) { return new URL(window.location.href).searchParams.get(n) || ''; }
  function set(id, val) { const e = document.getElementById(id); if(e) e.textContent = val || '‚Äî'; }
  function setRing(rId, nId, score) {
    const n = Math.min(100, Math.max(0, parseInt(score)||0));
    const r = document.getElementById(rId), nm = document.getElementById(nId);
    if(r) setTimeout(()=>{ r.style.strokeDashoffset = 119.38 - (n/100)*119.38; }, 150);
    if(nm) nm.textContent = n > 0 ? n : '‚Äî';
  }
  function setBar(bId, nId, val) {
    const n = Math.min(100, Math.max(0, parseInt(val)||0));
    const b = document.getElementById(bId), nm = document.getElementById(nId);
    if(b) setTimeout(()=>{ b.style.width = n+'%'; }, 200);
    if(nm) nm.textContent = n > 0 ? n : '‚Äî';
  }
  function setBucket(id, val) {
    const e = document.getElementById(id); if(!e) return;
    e.textContent = val || '‚Äî'; e.className = 'score-bucket';
    const v = (val||'').toLowerCase();
    e.classList.add(v==='high'?'bkt-high':v==='medium'?'bkt-medium':'bkt-low');
  }
  function setBadge(id, val) {
    const e = document.getElementById(id); if(!e) return;
    e.textContent = val || '‚Äî'; e.className = 'badge';
    const v = (val||'').toUpperCase();
    e.classList.add(v==='HIGH'?'badge-high':v==='LOW'?'badge-low':'badge-medium');
  }
  function setPill(id, val) {
    const e = document.getElementById(id); if(!e) return;
    e.textContent = val || '‚Äî'; e.className = 'pill';
    const v = (val||'').toLowerCase();
    e.classList.add(v==='active'?'pill-active':v==='review'?'pill-review':v==='pending'?'pill-pending':'pill-none');
  }

  (function run() {
    document.getElementById('lastUpdated').textContent =
      'Updated ' + new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});
    // Flash
    setRing('flash-ring','flash-score', p('mx_AI_Readiness_Score'));
    setBucket('flash-bucket', p('mx_Readiness_Bucket'));
    set('flash-intent', p('mx_AI_Detected_Intent'));
    set('flash-reasoning', p('mx_AI_Reasoning'));
    // Sherlock
    set('sherlock-status', p('mx_QA_Status'));
    setBadge('sherlock-risk', p('mx_QA_Risk_Level'));
    set('sherlock-summary', p('mx_QA_Summary'));
    set('sherlock-findings', p('mx_QA_Key_Findings'));
    set('sherlock-advisory', p('mx_QA_Advisory_Notes'));
    set('sherlock-concerns', p('mx_QA_Concerns'));
    setPill('sherlock-pill', p('mx_QA_Status') || 'Review');
    // Hawke
    set('hawke-type', p('mx_Latest_Anomaly_Type'));
    setBadge('hawke-sev', p('mx_Latest_Anomaly_Severity'));
    setBar('hawke-conf-bar','hawke-conf', p('mx_Latest_Anomaly_Confidence'));
    set('hawke-lastrun', p('mx_Last_Intelligence_Run'));
    set('hawke-explanation', p('mx_Latest_Anomaly_Explanation'));
    setPill('hawke-pill', p('mx_AI_Anomaly_Status') || 'Active');
    // Invorto
    set('invorto-hesitation', p('mx_Primary_Hesitation'));
    set('invorto-motivation', p('mx_Motivation_Trigger'));
    set('invorto-decowner', p('mx_Decision_Owner'));
    set('invorto-timeline', p('mx_Enrollment_Timeline_Voice_Call'));
  })();
</script>
</body>
</html>
